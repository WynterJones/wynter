#!/usr/bin/env bash
# Wynter - AI-powered development framework for Claude Code
# Inspired by Gustav but focused on PRD creation, sprint planning, security, and enhancement

# Check if subcommand is provided
if [ $# -eq 0 ]; then
    echo "Wynter - AI Development Framework"
    echo ""
    echo "Usage: /wynter:<command> [options]"
    echo ""
    echo "Commands:"
    echo "  prd         Generate Product Requirements Document"
    echo "  plan        Create sprint plan from PRD"
    echo "  security    Run comprehensive security audit"
    echo "  check       Double-check and validate implementation"
    echo "  enhance     Add new features to existing sprint"
    echo "  help        Show detailed help"
    echo ""
    echo "Examples:"
    echo "  /wynter:prd \"Build a task management app\""
    echo "  /wynter:plan"
    echo "  /wynter:security --full"
    echo "  /wynter:enhance \"Add dark mode toggle\""
    exit 0
fi

SUBCOMMAND=$1
shift

case $SUBCOMMAND in
    prd)
        claude --prompt-file=".claude/commands/wynter/prd.md" "$@"
        ;;
    plan)
        claude --prompt-file=".claude/commands/wynter/planner.md" "$@"
        ;;
    security)
        claude --prompt-file=".claude/commands/wynter/security.md" "$@"
        ;;
    check)
        claude --prompt-file=".claude/commands/wynter/validator.md" "$@"
        ;;
    enhance)
        claude --prompt-file=".claude/commands/wynter/enhance.md" "$@"
        ;;
    help)
        claude --prompt-file=".claude/commands/wynter/help.md" "$@"
        ;;
    *)
        echo "Unknown command: $SUBCOMMAND"
        echo "Run '/wynter' for available commands"
        exit 1
        ;;
esac